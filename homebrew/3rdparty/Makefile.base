include $(dir $(abspath $(lastword $(MAKEFILE_LIST))))../Makefile.base

download/${ARTIFACT}:
	mkdir -p download
	wget ${BASE_URL}/${ARTIFACT} -P download

build/${NAME}: download/${ARTIFACT}
	mkdir -p build
	tar -xvzf download/${ARTIFACT} -C build

.PHONY: download
download: download/${ARTIFACT}

.PHONY: extract
extract: build/${NAME}

.PHONY: build
build: build/build.stamp

.PHONY: install
install: build/build.stamp
	cd build/${NAME} ; cp ${BUILD_TARGET} ${NAOMI_SH_BASE}/lib
	cd build/${NAME} ; cp ${BUILD_HEADERS} ${NAOMI_SH_BASE}/include

.PHONY: clean
clean:
	rm -rf download
	rm -rf build
